#!/usr/bin/env ruby

require 'rubygems'
require 'commander'

require 'bundler'
Bundler.require

class CleanLiving
  include Commander::Methods
  # include whatever modules you need

  def run
    program :name, 'clean-living'
    program :version, '0.0.1'
    program :description, 'Tracks activities related to clean living'

    command '' do |c|
      c.syntax = 'cl'
      c.summary = 'Enters an interactive shell'
      c.description = ''
      c.action do |args, options|
        ::InteractorCommand.new.run
      end
    end

    command :new do |c|
      c.syntax = 'cl new <task name>'
      c.summary = 'Creates and stores a new task with the specificed name'
      c.action do |args, options|
        ::NewCommand.new(args, options).run
      end
    end

    command :list do |c|
      c.syntax = 'cl list'
      c.summary = 'List all tasks'
      c.action do |args, options|
        ::ListCommand.new(args, options).run
      end
    end

    command :complete do |c|
      c.syntax = 'cl complete [options]'
      c.summary = ''
      c.description = ''
      c.action do |args, options|
        # Do something or c.when_called Clean-living::Commands::Complete
      end
    end

    run!
  end
end

require './config/application.rb'

CleanLiving.new.run
